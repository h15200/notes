# Wepack

- used to separate components into file while organizing the entire project. Multiple components should not live in one file for scalability.

Used to load babel comppiler. As of now, the simplest way to make a light-weight react app. crr is a lot more bulky

## Setup

Structure

/ dist - where the compilied code , bundle.js goes
/public
index.html

1. if using react, make a div with id root inside body.
2. and right outside body `<script src="./dist/bundle.js"></script>`
   /src App.js , maybe another folder called components, etc..
   make sure you import react and react-react into all components in /src

css can be added to html like above, or imported inside App.js so it could also live inside src.
Actually, that's probably better than leaving it in public so it won't be read by users.

index.css
bundle.js will be auto generated by webpack, so do not make
if using react, also add a div with an id inside the body to inject AS WELL as the bundle code above.

`npm init -y`
`npm i -D webpack webpack-cli webpack-server @babel/core babel-loader @babel/preset-env @babel/preset-react`
optionally npm i react react-dom

webpack and webpack-cli is part of webpack
webpack server is a dev server
core is just babel
the loader is how webpack communicates with babel
the env preset is for es5 to es6 (modules)
env react is for react and jsx

make and fill out webpack.config.js for the file transpiling

```
module.exports = {
  entry: './src/index.js',
  output: {
    path: __dirname + '/dist',
    publicPath: '/',
    filename: 'bundle.js'
  },
  devServer: {
    contentBase: './dist',
  },
  module: {
    rules: [
    {
      test: /\.(js|jsx)$/,
      exclude: /node_modules/,
      use: ['babel-loader']
    }
    ]
  },
};
```

inside package.json add a script

```
"scripts": {
 "start": "webpack-dev-server --mode development",
},

make a script inside package.json for
"build" : "webpack -w"
```

then finally, .babelrc

```
{
  "presets": [
    "@babel/preset-env",
    "@babel/preset-react"
  ]
}
```

npm start to run the dev server
